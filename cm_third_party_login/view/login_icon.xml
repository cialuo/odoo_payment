<?xml version="1.0" encoding="utf-8"?>
<!-- vim:fdn=3:
-->
<openerp>
    <data>

         <template id="login_layout" inherit_id="web.login" name="Website Login Layout">
            <xpath expr="t" position="replace">
                <t t-call="website.layout">
                    <form class="oe_login_form" role="form"
                          t-attf-action="/web/login{{ '?debug' if debug else '' }}" method="post"
                          onsubmit="this.action = this.action + location.hash">
                        <div style="width:100%;">
                            <div style="width:300px;margin-left:auto;margin-right:auto; ">
                                <t t-call="web.database_select"/>
                                <div class="form-group field-login">
                                    <label for="login" class="control-label">账号:</label>
                                    <input type="text" name="login" t-att-value="login" id="login" placeholder="请输入账号"
                                           class="form-control" required="required" autofocus="autofocus"/>
                                </div>

                                <div class="form-group field-password">
                                    <label for="password" class="control-label">密码:</label>
                                    <input type="password" name="password" id="password" class="form-control"
                                           placeholder="请输入密码" required="required"
                                           t-att-autofocus="'autofocus' if login else None"/>
                                </div>

                                <p class="alert alert-danger" t-if="error">
                                    <t t-esc="error"/>
                                </p>
                                <p class="alert alert-success" t-if="message">
                                    <t t-esc="message"/>
                                </p>

                                <input type="hidden" name="redirect" t-att-value="redirect"/>
                                <div class="clearfix oe_login_buttons">

                                    <button type="submit" class="btn btn-primary" style="width:100%;">登录</button>
                                    <div t-foreach="providers" t-as="p">
                                        <a t-att-href="p['auth_link']" class="btn btn-link">
                                            <i t-att-class="p['css_class']"/>
                                            <t t-if="p['name']=='qq'">
                                                <img src="/cm_third_party_login/static/icon/qqlogin.png"/>
                                            </t>
                                            <t t-if="p['name']=='taobao'">
                                                <img src="/cm_third_party_login/static/icon/taologin.png"/>
                                            </t>
                                            <t t-if="p['name']!='taobao' and p['name']!='qq'">
                                                <t t-esc="p['body']"/>
                                            </t>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </t>
            </xpath>
        </template>


    </data>
</openerp>